{"version":3,"sources":["images/Close_Icon.svg","images/logo.png","images/Vector_1.png","images/Vector.png","utils/Api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","name","about","method","body","JSON","stringify","avatar","link","alt","cardID","authorization","Header","className","src","headerLogo","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","type","onClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","VectorButton","VectorButtonAdd","map","key","Footer","ImagePopup","onClose","isOpen","closeIcon","PopupWithForm","title","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","buttonText","useState","setName","description","setDescription","isValid","setIsValid","validationMessage","setIsValidationMessage","isSubmitDisabled","Object","values","every","Boolean","useEffect","e","preventDefault","onChange","event","target","value","validity","valid","required","placeholder","minLength","maxLength","disabled","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","onAddCards","inputValue","setInputValue","handleInputChange","ConfirmPopup","onConfirm","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setСurrentUser","setCards","isConfirmPopupOpen","setIsConfirmPopupOpen","isLoading","setIsLoading","closeAllPopups","all","getUserInfo","getInitialCards","userInfo","initialCards","catch","error","console","log","Provider","putLike","newCard","newCards","c","err","removeLike","setUserInfo","addCard","setUserAvatar","deleteCard","filter","item","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3ae7cac8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Close_Icon.c2d0901f.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABcSURBVHgB7ZTBCQAhDATX4/q5swItyU5szY5iBEF/5mH8mIGFPLLzEBUQQESRBkHSeaCEiU18UPy2yy/Y+6b5545bFVx7SlBA7yg4UbDnObnPiVOwA/uETHyruAJ7lynkgfqZ+gAAAABJRU5ErkJggg==\"","\r\nexport default class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    //loading(true);\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      //method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n\r\n\r\n  setUserAvatar({ avatar }) {\r\n\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  addCard({ name, link, alt }) {\r\n    //loading(true);\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name, link, alt })\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  putLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  deleteCard(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n\r\n  removeLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    authorization: '401963c2-8e67-4398-84ba-2d7df4f163fe'\r\n  }\r\n});\r\n\r\nexport { api }","import React from 'react';\r\nimport headerLogo from '../images/logo.png';\r\nfunction Header() {\r\n    return (\r\n      \r\n          <header className=\"header\">\r\n              <img className=\"header__logo\" src={headerLogo} alt=\"Логотип Mestro\" />\r\n          </header>\r\n  \r\n          \r\n    );\r\n  }\r\n  \r\n  export default Header;","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleClick() {\r\n        onCardClick(card)\r\n    }\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `elements__remove-button ${isOwn ? 'elements__remove-button_visible' : 'elements__remove-button_hidden'}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (`elements__card-icon ${isLiked && 'elements__card-icon_active'}`);\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    const handleCardDelete = () => {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n\r\n        <div id=\"element\">\r\n            <div className=\"elements__card\">\r\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n\r\n                <img src={card.link} alt={card.name} onClick={handleClick} className=\"elements__card-image\" />\r\n\r\n                <div className=\"elements__card-description\">\r\n                    <p className=\"elements__card-name\">{card.name}</p>\r\n                    <div className=\"elements__like-container\">\r\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                        <p className=\"elements__like-count\">{card.likes.length}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n//import { api } from '../utils/Api';\r\nimport Card from './Card';\r\nimport VectorButton from '../images/Vector_1.png';\r\nimport VectorButtonAdd from '../images/Vector.png';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n\r\n\r\n        <main className=\"content\">\r\n\r\n            <section className=\"profile\">\r\n                <div className=\"profile__image-container\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n                    <button onClick={onEditAvatar} className=\"profile__avatar-button\" type=\"button\"></button>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__title\">\r\n                        <h1 className=\"profile__user\">{currentUser.name}</h1>\r\n                        <button onClick={onEditProfile} type=\"button\" className=\"profile__button-edit\"><img className=\"profile__button-pic\" src={VectorButton} alt=\"Редактировать\" /></button>\r\n                    </div>\r\n                    <p className=\"profile__user-explorer\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__button-add\"><img className=\"profile__button-vector\" src={VectorButtonAdd} alt=\"Добавить\" /></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n\r\n                {cards.map((card) => (\r\n                    <Card key={card._id}\r\n                        onCardClick={onCardClick}\r\n                        card={card}\r\n                        onCardLike={onCardLike}\r\n                        onCardDelete={onCardDelete}\r\n                    />\r\n\r\n                ))}\r\n\r\n            </section>\r\n\r\n        </main>\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n      \r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  \r\n          \r\n    );\r\n  }\r\n  \r\n  export default Footer;","import React from 'react';\r\nimport closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction ImagePopup({ onClose, card, isOpen }) {\r\n\r\n  return (\r\n\r\n    <section className={`popup popup-image ${isOpen && 'popup_opened'}`} >\r\n      <div className=\"popup__overlay popup-image__overlay\"></div>\r\n      <div className=\"popup-image__cover\">\r\n        <img src={card.link} alt={card.name} className=\"popup-image__image\" />\r\n        <p className=\"popup-image__caption\">{card.name}</p>\r\n        <button onClick={onClose} type=\"button\" className=\"popup__close popup-image__close-button\"><img className=\"popup__close-icon\" src={closeIcon} alt=\"закрыть\" /></button>\r\n      </div>\r\n    </section>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction PopupWithForm({ name, title, children, isOpen, onClose, onSubmit }) {\r\n    return (\r\n\r\n        <section className={`popup ${name} ${isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__overlay popup-profile__overlay\"></div>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" className=\"popup__close\" onClick={onClose}><img className=\"popup__close-icon\" src={closeIcon} alt=\"закрыть\" /></button>\r\n                <h3 className=\"popup__title\">{title}</h3>\r\n                <form className={`popup__form popup__form_${name}`} name={name} noValidate onSubmit={onSubmit}>\r\n                    {children}\r\n                    \r\n                </form>\r\n            </div>\r\n\r\n        </section>\r\n\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\n\r\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser, buttonText }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    const [isValid, setIsValid] = React.useState({ name: false, about: false })\r\n    const [validationMessage, setIsValidationMessage] = React.useState({ name: \"\", about: \"\" })\r\n\r\n    function handleInputNameChange(event) {\r\n        const { name, value } = event.target\r\n        setName(value);\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid\r\n        })\r\n        setIsValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage\r\n        })\r\n    }\r\n\r\n    function handleInputDescriptionChange(event) {\r\n        const { name, value } = event.target\r\n        setDescription(value);\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid\r\n        })\r\n        setIsValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage\r\n        })\r\n    }\r\n\r\n    const isSubmitDisabled = Object.values(isValid).every(Boolean)\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name || '');\r\n        setDescription(currentUser.about || '');\r\n        setIsValid({ name: true, about: true })\r\n    }, [isOpen, currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name='popup-profile'\r\n            title='Редактировать профиль'\r\n            buttonText={buttonText}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input onChange={handleInputNameChange}\r\n                value={name} id=\"name-input\" type=\"text\" name=\"name\"\r\n                className={`popup__input popup__input_type_name ${!isValid.name && 'popup__input_type_error'}`}\r\n                required placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" />\r\n            <span id=\"name-input-error\"\r\n                className={`popup__input-error ${!isValid.name && 'popup__input-error_active'}`}>\r\n                {validationMessage.name}</span>\r\n            <input onChange={handleInputDescriptionChange}\r\n                value={description} id=\"job-input\" type=\"text\" name=\"about\"\r\n                className={`popup__input popup__input_type_job ${!isValid.about && 'popup__input_type_error'}`}\r\n                required placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" />\r\n            <span id=\"job-input-error\"\r\n                className={`popup__input-error ${!isValid.about && 'popup__input-error_active'}`}>\r\n                {validationMessage.about}</span>\r\n            <button type=\"submit\" className={`popup__button ${!isSubmitDisabled && 'popup__button_inactive'}`}\r\n                disabled={!isSubmitDisabled}>{buttonText}</button>\r\n        </PopupWithForm>\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar, buttonText }) {\r\n    const inputRef = React.useRef();\r\n\r\n    React.useEffect(() => {\r\n        inputRef.current.value = ''\r\n    }, [onClose]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: inputRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name='popup-avatar'\r\n            title='Обновить аватар'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input ref={inputRef} id=\"url\" type=\"url\" name=\"link\" className=\"popup__input popup-avatar__input_type_link-img\" required placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"url-error\" className=\"popup__input-error\"></span>\r\n            <button type=\"submit\" className=\"popup__button\">{buttonText}</button>\r\n        </PopupWithForm>\r\n\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCards, buttonText }) {\r\n\r\n    const [inputValue, setInputValue] = React.useState({ name: \"\", link: \"\" })\r\n    const [isValid, setIsValid] = React.useState({ name: false, link: false })\r\n    const [validationMessage, setIsValidationMessage] = React.useState({ name: \"\", link: \"\" })\r\n\r\n\r\n    function handleInputChange(event) {\r\n        const { name, value } = event.target\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value\r\n        })\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid\r\n        })\r\n        setIsValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage\r\n        })\r\n\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setInputValue({ name: \"\", link: \"\" });\r\n        setIsValidationMessage({ name: \"\", link: \"\" })\r\n        setIsValid({ name: false, link: false })\r\n\r\n    }, [isOpen])\r\n\r\n    const isSubmitDisabled = Object.values(isValid).every(Boolean)\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onAddCards({\r\n            name: inputValue.name,\r\n            link: inputValue.link\r\n        });\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='popup-element'\r\n            title='Новое место'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input value={inputValue.name}\r\n                onChange={handleInputChange}\r\n                id=\"title-input\" type=\"text\" name=\"name\"\r\n                className={`popup__input popup-element__input_type_title ${!isValid.name && 'popup__input_type_error'}`}\r\n                required minLength=\"1\" maxLength=\"30\"\r\n                placeholder=\"Название\" />\r\n            <span id=\"title-input-error\"\r\n                className={`popup__input-error ${!isValid.name && 'popup__input-error_active'}`}\r\n            >\r\n                {validationMessage.name}\r\n            </span>\r\n            <input value={inputValue.link}\r\n                onChange={handleInputChange}\r\n                id=\"url-input\"\r\n                type=\"url\" name=\"link\"\r\n                className={`popup__input popup-element__input_type_link-img ${!isValid.link && 'popup__input_type_error'}`}\r\n                required\r\n                placeholder=\"Ссылка на картинку\" />\r\n            <span id=\"url-input-error\"\r\n                className={`popup__input-error ${!isValid.link && 'popup__input-error_active'}`}>\r\n                {validationMessage.link}\r\n            </span>\r\n            <button type=\"submit\" className={`popup__button ${!isSubmitDisabled && 'popup__button_inactive'}`} disabled={!isSubmitDisabled}>{buttonText}</button>\r\n\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmPopup({ onConfirm, isOpen, onClose, buttonText }) {\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        onConfirm();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='popup-delete'\r\n            title='Вы уверены?'\r\n            buttonText={buttonText}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n        <button type=\"submit\" className=\"popup__button\">{buttonText}</button>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\r\nimport { api } from '../utils/Api'\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [currentUser, setСurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userInfo, initialCards]) => {\r\n        setСurrentUser(userInfo)\r\n        setCards(initialCards);\r\n      })\r\n      .catch((error) => console.log('Ошибка запроса - ' + error))\r\n\r\n  }, []);\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setIsLoading(true)\r\n    api.setUserInfo({ name, about })\r\n      .then((userInfo) => {\r\n        setСurrentUser(userInfo);\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.error(err))\r\n\r\n\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    setIsLoading(true)\r\n    api.setUserAvatar({ avatar })\r\n      .then((userInfo) => {\r\n        setСurrentUser(userInfo);\r\n        closeAllPopups()\r\n      }\r\n      )\r\n      .catch(err => console.error(err))\r\n\r\n\r\n  }\r\n\r\n\r\n  function handleCardLike(card) {\r\n\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.putLike(card._id, !isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n      .catch(err => console.error(err));\r\n\r\n    api.removeLike(card._id, isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n\r\n  const handleCardDelete = () => {\r\n    //setIsLoading(true)\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.deleteCard(selectedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((item) => item._id !== selectedCard._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log('Ошибка удаления карточки : ', error))\r\n\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link, alt }) {\r\n    setIsLoading(true)\r\n    api.addCard({ name, link, alt })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.log('Ошибка запроса - ' + error))\r\n  }\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsImagePopupOpen(false);\r\n    setIsConfirmPopupOpen(false)\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const handleCardConfirm = (card) => {\r\n    setSelectedCard(card);\r\n    setIsConfirmPopupOpen(true);\r\n    \r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card)\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n\r\n        {currentUser && cards && <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardConfirm}\r\n\r\n        />}\r\n\r\n        <Footer />\r\n\r\n        <EditProfilePopup \r\n        isOpen={isEditProfilePopupOpen} \r\n        onClose={closeAllPopups} \r\n        onUpdateUser={handleUpdateUser} \r\n        buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}/>\r\n\r\n        <AddPlacePopup \r\n        isOpen={isAddPlacePopupOpen} \r\n        onClose={closeAllPopups} \r\n        onAddCards={handleAddPlaceSubmit} \r\n        buttonText={isLoading ? 'Сохранение...' : 'Создать'}/>\r\n\r\n        <EditAvatarPopup \r\n        isOpen={isEditAvatarPopupOpen} \r\n        onClose={closeAllPopups} \r\n        onUpdateAvatar={handleUpdateAvatar} \r\n        buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}/>\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups} />\r\n\r\n        <ConfirmPopup\r\n          onConfirm={handleCardDelete}\r\n          onClose={closeAllPopups}\r\n          isOpen={isConfirmPopupOpen}\r\n          buttonText={isLoading ? 'Сохранение...' : 'Да'}\r\n        />\r\n\r\n      </CurrentUserContext.Provider>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}